"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{4697:(t,e,i)=>{i.d(e,{GameScene:()=>l});var a=i(1367),s=i(6933),h=i(662),r=i(2042);class o extends Phaser.Physics.Arcade.Sprite{update(){this.handleMovement(),this.handleJump(),this.updateAnimation(),this.setVisible(!0),this.setActive(!0),this.setDepth(30)}handleMovement(){let t=this.isMoving;this.setVisible(!0),this.setActive(!0);let e=this.scene.cameras.main,i=e.worldView.x,a=e.worldView.x+e.worldView.width,s=this.width/2,h=this.x-s>i,r=this.x+s<a;this.isMoving=!1,this.cursors.left.isDown&&h?(console.log("\uD83E\uDDE0 Player moving left"),this.setVelocityX(-this.speed),"none"===this.jumpPhase&&(this.isMoving=!0),this.facingRight=!1):this.cursors.right.isDown&&r?(console.log("\uD83E\uDDE0 Player moving right"),this.setVelocityX(this.speed),"none"===this.jumpPhase&&(this.isMoving=!0),this.facingRight=!0):(this.setVelocityX(0),this.isMoving=!1),this.setVisible(!0),this.setActive(!0),t!==this.isMoving&&this.scene.events.emit("playerMovementChanged",this.isMoving)}handleJump(){"none"===this.jumpPhase?this.isGrounded=this.body.touching.down:this.isGrounded=!1,this.isGrounded&&Phaser.Input.Keyboard.JustDown(this.spaceKey)&&(console.log("\uD83E\uDDE0 Player jumping"),this.setVelocityY(-this.jumpPower),this.scene.events.emit("playerJumped"),this.jumpPhase="start",this.jumpStartTime=this.scene.time.now,this.jumpFrameIndex=0,this.isJumping=!0,this.isGrounded=!1),"none"!==this.jumpPhase&&("start"===this.jumpPhase?this.scene.time.now-this.jumpStartTime>200&&(this.jumpPhase="ascending"):"ascending"===this.jumpPhase&&this.body.velocity.y>=0?this.jumpPhase="falling":"falling"===this.jumpPhase&&this.body.touching.down&&(this.jumpPhase="landing",this.jumpStartTime=this.scene.time.now,this.jumpFrameIndex=0))}updateAnimation(){let t=this.facingRight?"east":"west";if("none"!==this.jumpPhase)return void this.handleJumpAnimation(t);if(this.isMoving){let e="".concat(this.charName,"_walk_").concat(t);("walking"!==this.currentAnimation||this.anims.currentAnim.key!==e)&&(this.play(e),this.currentAnimation="walking")}else"breathing_idle"!==this.currentAnimation&&(this.play("".concat(this.charName,"_breathing_idle")),this.currentAnimation="breathing_idle")}handleJumpAnimation(t){let e=this.scene.time.now-this.jumpStartTime;switch(this.jumpPhase){case"start":let i=Math.min(3,Math.floor(e/50)),a="".concat(this.charName,"_jumping_").concat(t,"_").concat(i.toString().padStart(3,"0"));("jumping_start"!==this.currentAnimation||this.texture.key!==a)&&(this.setTexture(a),this.currentAnimation="jumping_start");break;case"ascending":let s="".concat(this.charName,"_jumping_").concat(t,"_004");("jumping_ascending"!==this.currentAnimation||this.texture.key!==s)&&(this.setTexture(s),this.currentAnimation="jumping_ascending");break;case"falling":let h="".concat(this.charName,"_jumping_").concat(t,"_005");("jumping_falling"!==this.currentAnimation||this.texture.key!==h)&&(this.setTexture(h),this.currentAnimation="jumping_falling");break;case"landing":let r=Math.min(2,Math.floor(e/50)),o="".concat(this.charName,"_jumping_").concat(t,"_").concat((r+6).toString().padStart(3,"0"));("jumping_landing"!==this.currentAnimation||this.texture.key!==o)&&(this.setTexture(o),this.currentAnimation="jumping_landing"),e>150&&(this.jumpPhase="none",this.isJumping=!1)}}takeDamage(t){this.health-=t,this.health<0&&(this.health=0),this.setTint(0xff0000),this.scene.time.delayedCall(200,()=>{this.setTint(this.characterData.color)}),this.scene.events.emit("playerDamaged",this.health),this.health<=0&&this.scene.events.emit("playerDied")}heal(t){this.health+=t,this.health>this.maxHealth&&(this.health=this.maxHealth),this.setTint(65280),this.scene.time.delayedCall(200,()=>{this.setTint(this.characterData.color)}),this.scene.events.emit("playerHealed",this.health)}getHealthPercentage(){return this.health/this.maxHealth*100}getCharacterName(){return this.characterData.name}constructor(t,e,i,a){let h={A:"cyberWarrior",B:"quantumMage",C:"stealthRogue",D:"plasmaPaladin"}[a];super(t,e,i,"".concat(h,"_breathing_idle_000")),this.scene=t,this.characterKey=a,this.characterData=s.h[a],this.charName=h,t.add.existing(this),t.physics.add.existing(this),this.setCollideWorldBounds(!1),this.setBounce(.2),this.setDragX(300),this.body.setSize(32,48),this.body.setOffset(16,8),this.setDepth(30),this.setVisible(!0),this.setActive(!0),this.cursors=t.input.keyboard.createCursorKeys(),this.spaceKey=t.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.speed=200,this.jumpPower=400,this.isGrounded=!1,this.health=s.b.maxHealth,this.maxHealth=s.b.maxHealth,this.isMoving=!1,this.facingRight=!0,this.currentAnimation="breathing_idle",this.isJumping=!1,this.jumpPhase="none",this.jumpStartTime=0,this.jumpFrameIndex=0,this.setFlipX(!1),this.play("".concat(h,"_breathing_idle"))}}class n extends Phaser.Physics.Arcade.Sprite{updateSprite(){let t="".concat(this.enemyType,"_").concat(this.facingDirection);this.scene.textures.exists(t)&&this.setTexture(t)}setupBehavior(){"moving"===this.type?this.body.setVelocityX(this.speed*this.moveDirection):this.body.setVelocityX(0)}update(){"moving"===this.type&&this.handlePatrol(),this.checkPlayerCollision()}handlePatrol(){Math.abs(this.x-this.startX)>=this.patrolRange&&(this.moveDirection*=-1,this.body.setVelocityX(this.speed*this.moveDirection),this.updateFacingDirection()),(this.body.blocked.left||this.body.blocked.right)&&(this.moveDirection*=-1,this.body.setVelocityX(this.speed*this.moveDirection),this.updateFacingDirection())}updateFacingDirection(){this.moveDirection>0?this.facingDirection="east":this.facingDirection="west",this.updateSprite()}checkPlayerCollision(){let t=this.scene.player;if(!t)return;let e=this.scene.time.now;!(e-this.lastCollisionTime<this.collisionCooldown)&&this.scene.physics.overlap(this,t)&&(this.lastCollisionTime=e,t.takeDamage(this.damage),this.scene.playWilhelmScream(),this.setTint(0xffaa00),this.scene.time.delayedCall(200,()=>{this.setTint(0xff0000)}))}takeDamage(t){this.health-=t,this.health<=0&&(this.destroy(),this.scene.events.emit("enemyDestroyed",this))}static createStationaryEnemy(t,e,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"enemy1";return new n(t,e,i,"stationary",a)}static createMovingEnemy(t,e,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"enemy1";return new n(t,e,i,"moving",a)}static createPatrolEnemy(t,e,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"enemy1",h=new n(t,e,i,"moving",s);return h.patrolRange=a,h}constructor(t,e,i,a="stationary",s="enemy1"){super(t,e,i,{enemy1:"enemy1_south",enemy2:"enemy2_south"}[s]),this.scene=t,this.type=a,this.enemyType=s,t.add.existing(this),t.physics.add.existing(this),this.body.setCollideWorldBounds(!1),this.body.setSize(32,48),this.body.setOffset(16,8),this.body.setImmovable(!1),this.damage=20,this.speed=50,this.health=50,this.maxHealth=50,this.setDepth(20),this.moveDirection=1,this.moveDistance=100,this.startX=e,this.patrolRange=150,this.lastCollisionTime=0,this.collisionCooldown=1e3,this.facingDirection="south",this.updateSprite(),this.setupBehavior()}}class l extends Phaser.Scene{preload(){this.createTileTextures()}createTileTextures(){if(!this.textures.exists("tileset"))return void console.error("Tileset image not found!");try{this.textures.addSpriteSheet("tileset_sprites",this.textures.get("tileset").getSourceImage(),{frameWidth:32,frameHeight:32,startFrame:0,endFrame:63})}catch(t){console.error("Error creating tileset spritesheet:",t)}}createCharacterAnimations(){["cyberWarrior","quantumMage","stealthRogue","plasmaPaladin"].forEach(t=>{this.anims.create({key:"".concat(t,"_breathing_idle"),frames:[{key:"".concat(t,"_breathing_idle_000")},{key:"".concat(t,"_breathing_idle_001")},{key:"".concat(t,"_breathing_idle_002")},{key:"".concat(t,"_breathing_idle_003")}],frameRate:8,repeat:-1}),["east","west"].forEach(e=>{this.anims.create({key:"".concat(t,"_walk_").concat(e),frames:[{key:"".concat(t,"_walk_").concat(e,"_000")},{key:"".concat(t,"_walk_").concat(e,"_001")},{key:"".concat(t,"_walk_").concat(e,"_002")},{key:"".concat(t,"_walk_").concat(e,"_003")},{key:"".concat(t,"_walk_").concat(e,"_004")},{key:"".concat(t,"_walk_").concat(e,"_005")}],frameRate:12,repeat:-1})}),["east","west"].forEach(e=>{this.anims.create({key:"".concat(t,"_jumping_").concat(e),frames:[{key:"".concat(t,"_jumping_").concat(e,"_000")},{key:"".concat(t,"_jumping_").concat(e,"_001")},{key:"".concat(t,"_jumping_").concat(e,"_002")},{key:"".concat(t,"_jumping_").concat(e,"_003")},{key:"".concat(t,"_jumping_").concat(e,"_004")},{key:"".concat(t,"_jumping_").concat(e,"_005")},{key:"".concat(t,"_jumping_").concat(e,"_006")},{key:"".concat(t,"_jumping_").concat(e,"_007")},{key:"".concat(t,"_jumping_").concat(e,"_008")}],frameRate:15,repeat:0})})})}create(){this.mapSystem=new h.A(this),this.setupWorldBounds(),this.createCharacterAnimations(),this.createBackground(),this.createDarkOverlay(),this.tilemapSystem=new r.W(this),this.loadMapData(),this.createPlayer(),this.enemies=[],this.setupCamera(),this.createUI(),this.setupEventListeners(),this.startBackgroundMusic(),this.frameCount=0}loadMapData(){this.mapSystem.loadMapFromURL("".concat(a.o.maps,"/default.json")).then(t=>{this.mapData=t,this.loadTileDataFromMap(),this.tilemapSystem.createCollisionBodies(),this.createEnemies(),this.createPortal(),this.setupCollisions(),this.updateObjectsFromMapData()}).catch(t=>{console.error("Failed to load default.json map file:",t.message),console.error("Game cannot start without a valid map file. Please ensure default.json exists in the maps directory."),this.add.text(600,400,"Map Loading Error",{fontSize:"32px",fill:"#ff4444",fontStyle:"bold"}).setOrigin(.5),this.add.text(600,450,"Failed to load default map",{fontSize:"18px",fill:"#ffffff"}).setOrigin(.5),this.add.text(600,480,"Please ensure the map file exists and is valid",{fontSize:"16px",fill:"#cccccc"}).setOrigin(.5)})}loadTileDataFromMap(){if(this.mapData&&this.mapData.tiles&&Array.isArray(this.mapData.tiles)){for(let t=0;t<this.tilemapSystem.mapHeight;t++)for(let e=0;e<this.tilemapSystem.mapWidth;e++)this.tilemapSystem.setTile(e,t,r.W.TILE_TYPES.EMPTY);for(let t=0;t<Math.min(this.mapData.tiles.length,this.tilemapSystem.mapHeight);t++)if(this.mapData.tiles[t]&&Array.isArray(this.mapData.tiles[t]))for(let e=0;e<Math.min(this.mapData.tiles[t].length,this.tilemapSystem.mapWidth);e++){let i=this.mapData.tiles[t][e];i&&"object"==typeof i?this.tilemapSystem.setTile(e,t,i.type,i.spriteIndex):"number"==typeof i&&this.tilemapSystem.setTile(e,t,i)}}}setupWorldBounds(){this.physics.world.setBounds(0,0,4128,800)}createBackground(){let t=["background1","background2","background3"],e=t[Math.floor(Math.random()*t.length)];if(this.textures.exists(e)){let t=this.textures.get(e).source[0].width,i=Math.max(4100/t,800/this.textures.get(e).source[0].height);this.backgroundImage=this.add.image(t*i/2,400,e),this.backgroundImage.setScrollFactor(.3),this.backgroundImage.setDepth(-10),this.backgroundImage.setScale(i)}else this.createFallbackBackground();this.addAtmosphericElements()}createDarkOverlay(){this.darkOverlay=this.add.rectangle(2050,400,4100,800,0,.4),this.darkOverlay.setScrollFactor(.2),this.darkOverlay.setDepth(1)}createFallbackBackground(){let t=this.add.graphics();t.fillStyle(657966),t.fillRect(0,0,4100,600),t.generateTexture("fallbackBackground",4100,600),t.destroy(),this.backgroundImage=this.add.image(2050,300,"fallbackBackground")}addAtmosphericElements(){for(let t=0;t<10;t++){let t=this.add.circle(4100*Math.random(),600*Math.random(),1+2*Math.random(),65535,.5);t.setDepth(2),t.setScrollFactor(.5),this.tweens.add({targets:t,y:t.y+100,duration:3e3+2e3*Math.random(),repeat:-1,yoyo:!0,ease:"Sine.easeInOut"})}}checkPortalCollision(t,e,i,a){if(!this.portalArea)return!1;let s=this.portalArea.x-this.portalArea.width/2-this.portalArea.buffer,h=this.portalArea.x+this.portalArea.width/2+this.portalArea.buffer,r=this.portalArea.y-this.portalArea.height/2-this.portalArea.buffer,o=this.portalArea.y+this.portalArea.height/2+this.portalArea.buffer;return!(t+i/2<s||t-i/2>h||e+a/2<r||e-a/2>o)}createPlayer(){var t;let e=100,i=688;"D"===s.b.selectedCharacter&&(e=3800),i=(this.tilemapSystem.mapHeight-3)*this.tilemapSystem.tileSize-66,this.player=new o(this,e,i,null!=(t=s.b.selectedCharacter)?t:0),this.playerGroup=this.physics.add.group([this.player])}repositionPlayer(){if(this.mapData&&this.mapData.player&&this.player){let t=this.mapData.player.startPosition.x,e=this.mapData.player.startPosition.y;this.player.setPosition(t,e)}}updateObjectsFromMapData(){if(this.repositionPlayer(),this.mapData&&this.mapData.portal&&this.portalSprite){let t=this.mapData.portal.position.x,e=this.mapData.portal.position.y;this.portalSprite.setPosition(t,e)}}findSpawnPosition(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return this.tilemapSystem.findEnemySpawnPosition(e)}createEnemies(){this.enemies=[],this.mapData&&this.mapData.enemies?this.mapData.enemies.forEach((t,e)=>{let i;switch(t.type){case"stationary":default:i=n.createStationaryEnemy(this,t.position.x,t.position.y,t.enemyType);break;case"moving":i=n.createMovingEnemy(this,t.position.x,t.position.y,t.enemyType);break;case"patrol":var a;i=n.createPatrolEnemy(this,t.position.x,t.position.y,(null==(a=t.properties)?void 0:a.patrolRange)||150,t.enemyType)}t.properties&&(t.properties.damage&&(i.damage=t.properties.damage),t.properties.health&&(i.health=t.properties.health),t.properties.maxHealth&&(i.maxHealth=t.properties.maxHealth),t.properties.speed&&(i.speed=t.properties.speed),t.properties.patrolRange&&(i.patrolRange=t.properties.patrolRange)),this.enemies.push(i)}):console.warn("No enemy data found in map. No enemies will be created."),this.enemyGroup=this.physics.add.group(this.enemies)}createPortal(){var t,e,i,a,s,h,r,o;let n=4e3,l=660;this.mapData&&this.mapData.portal?(n=this.mapData.portal.position.x,l=this.mapData.portal.position.y):l=660,this.portalSprite=this.add.sprite(n,l,"portal_frame_01"),this.portalSprite.setDepth(25),this.anims.create({key:"portalAnimation",frames:[{key:"portal_frame_01"},{key:"portal_frame_02"},{key:"portal_frame_03"},{key:"portal_frame_04"},{key:"portal_frame_05"},{key:"portal_frame_06"},{key:"portal_frame_07"},{key:"portal_frame_08"},{key:"portal_frame_09"},{key:"portal_frame_10"},{key:"portal_frame_11"},{key:"portal_frame_12"}],frameRate:(null==(e=this.mapData)||null==(t=e.portal)?void 0:t.animationSpeed)||12,repeat:-1}),this.portalSprite.play("portalAnimation"),this.physics.add.existing(this.portalSprite),this.portalSprite.body.setSize(100,100),this.portalSprite.body.setImmovable(!0),this.portalSprite.body.setAllowGravity(!1),this.portalSprite.body.setVelocity(0,0),this.portalSprite.body.enable=!0,this.portalArea={x:n,y:l,width:(null==(s=this.mapData)||null==(a=s.portal)||null==(i=a.size)?void 0:i.width)||100,height:(null==(o=this.mapData)||null==(r=o.portal)||null==(h=r.size)?void 0:h.height)||100,buffer:50}}setupCollisions(){this.physics.add.collider(this.player,this.tilemapSystem.collisionGroup),this.tilemapSystem.collisionBodies.forEach((t,e)=>{this.physics.add.collider(this.player,t)}),this.physics.add.overlap(this.player,this.enemies,(t,e)=>{}),console.log("Setting up enemy collisions with ".concat(this.tilemapSystem.collisionBodies.length," collision bodies")),this.tilemapSystem.collisionBodies.forEach((t,e)=>{this.physics.add.collider(this.enemies,t),console.log("Added collision for enemies with body ".concat(e,":"),{x:t.x,y:t.y,width:t.width,height:t.height})}),this.physics.add.overlap(this.player,this.portalSprite,(t,e)=>{console.log("\uD83E\uDDE0 Portal collision detected! Starting victory scene..."),this.stopBackgroundMusic(),this.scene.start("VictoryScene")})}createUI(){var t,e,i,a;let h=null!=(e=s.b.selectedCharacter)?e:"A",r=s.h[h],o=null!=(a=null!=(i=null==r?void 0:r.name)?i:null==(t=s.h.A)?void 0:t.name)?a:"Unknown Character";s.b.selectedCharacter&&s.h[s.b.selectedCharacter]||(s.b.selectedCharacter="A"),this.characterNameText=this.add.text(50,5,o,{fontSize:"20px",fill:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:2}).setScrollFactor(0).setDepth(100);let n=12*o.length;this.healthBarX=50+n+30+100,this.healthBarBg=this.add.rectangle(this.healthBarX,15,200,20,3355443).setScrollFactor(0).setDepth(100),this.healthBar=this.add.rectangle(this.healthBarX,15,200,20,65280).setScrollFactor(0).setDepth(101),this.healthText=this.add.text(this.healthBarX,15,"".concat(s.b.maxHealth,"/").concat(s.b.maxHealth),{fontSize:"14px",fill:"#fff",fontStyle:"bold"}).setOrigin(.5).setScrollFactor(0).setDepth(102),this.add.text(500,5,"Arrow Keys: Move | Space: Jump",{fontSize:"14px",fill:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:1}).setScrollFactor(0).setDepth(100),this.createMapManagementUI()}createMapManagementUI(){this.mapData&&this.mapData.metadata&&(this.mapInfoText=this.add.text(50,70,"Map: ".concat(this.mapData.metadata.name),{fontSize:"14px",fill:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:1}).setScrollFactor(0).setDepth(100)),this.createMapFileInput()}createMapFileInput(){this.mapFileInput=document.createElement("input"),this.mapFileInput.type="file",this.mapFileInput.accept=".json",this.mapFileInput.style.display="none",document.body.appendChild(this.mapFileInput),this.mapFileInput.addEventListener("change",t=>{var e;let i=null==(e=t.target.files)?void 0:e[0];i&&this.mapSystem.loadMap(i).then(t=>{var e;console.log("Map loaded from file:",null==(e=t.metadata)?void 0:e.name),this.mapData=t,this.reloadMapData()}).catch(t=>{console.error("Error loading map:",t),alert("Error loading map: "+t.message)})})}reloadMapData(){console.log("Reloading map data without scene restart..."),this.enemies&&(this.enemies.forEach(t=>t.destroy()),this.enemies=[]),this.portalSprite&&(this.portalSprite.destroy(),this.portalSprite=null),this.loadTileDataFromMap(),this.tilemapSystem.createCollisionBodies(),this.createEnemies(),this.createPortal(),this.updateObjectsFromMapData(),console.log("Map data reloaded successfully")}async saveCurrentMap(){if(this.mapSystem){let t=this.mapSystem.createMapFromGameState();t&&(await this.mapSystem.saveMap(t)?console.log("Current game state saved as map"):console.log("Map save cancelled or failed"))}}loadMapFromFile(){this.mapFileInput.click()}setupCamera(){this.cameras.main.setBounds(0,0,4128,800),this.cameras.main.startFollow(this.player),this.cameras.main.setDeadzone(100,50),this.cameras.main.setZoom(1)}setupEventListeners(){this.events.on("playerDamaged",t=>{this.updateHealthBar(t)}),this.events.on("playerDied",()=>{this.scene.start("GameOverScene")}),this.events.on("enemyDestroyed",t=>{this.enemies=this.enemies.filter(e=>e!==t)}),this.mapSaveKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),this.mapLoadKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.L)}updateHealthBar(t){if(isNaN(t)||void 0===t)return void console.error("Invalid health value:",t);let e=t/s.b.maxHealth*100;this.healthBar.setDisplaySize(e/100*200,20),e>60?this.healthBar.setFillStyle(65280):e>30?this.healthBar.setFillStyle(0xffff00):this.healthBar.setFillStyle(0xff0000),this.healthText.setText("".concat(Math.round(t),"/").concat(s.b.maxHealth))}update(){if(Phaser.Input.Keyboard.JustDown(this.mapSaveKey)&&this.saveCurrentMap(),Phaser.Input.Keyboard.JustDown(this.mapLoadKey)&&this.loadMapFromFile(),this.player&&this.player.update(),this.enemies&&Array.isArray(this.enemies)&&this.enemies.forEach(t=>{t&&t.active&&t.update()}),this.frameCount++,this.player&&this.updateHealthBar(this.player.health),this.player&&this.portalSprite){let t=Phaser.Math.Distance.Between(this.player.x,this.player.y,this.portalSprite.x,this.portalSprite.y);t<60&&(console.log("\uD83E\uDDE0 Manual portal collision detected! Distance:",t),this.stopBackgroundMusic(),this.scene.start("VictoryScene"))}}startBackgroundMusic(){if(window.gameMusicInitialized)return void console.log("Background music already initialized globally, skipping...");window.gameMusicInitialized=!0,this.backgroundMusic=this.sound.add("backgroundMusic",{volume:.3,loop:!0,fadeIn:{duration:2e3,from:0,to:.3}}),this.backgroundMusic.play(),console.log("Background music started"),console.log("Wilhelm scream sound loaded")}playWilhelmScream(){this.wilhelmScream||(this.wilhelmScream=this.sound.add("wilhelmScream",{volume:.7,loop:!1})),this.wilhelmScream&&this.wilhelmScream.play()}stopBackgroundMusic(){this.backgroundMusic&&(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=null),console.log("Background music stopped")}shutdown(){this.stopBackgroundMusic(),this.mapFileInput&&this.mapFileInput.parentNode&&this.mapFileInput.parentNode.removeChild(this.mapFileInput),super.shutdown()}constructor(){super({key:"GameScene"}),this.enemies=[],this.frameCount=0}}},6933:(t,e,i)=>{i.d(e,{b:()=>a,h:()=>s});let a={selectedCharacter:null,playerHealth:100,maxHealth:100,scrollDirection:"right"},s={A:{name:"Cyber Warrior",color:0xff4444,scrollDirection:"right"},B:{name:"Quantum Mage",color:8930559,scrollDirection:"right"},C:{name:"Stealth Rogue",color:2245802,scrollDirection:"right"},D:{name:"Plasma Paladin",color:0xffaa00,scrollDirection:"right"}}}}]);